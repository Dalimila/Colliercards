<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Collier Cards</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #0b0f1f 0%, #05070f 70%);
      overflow-x: hidden;
      color: #e8e9f0;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .container {
      position: relative;
      z-index: 1;
      text-align: center;
      padding: 2rem;
      max-width: 600px;
    }
    h1 {
      font-family: 'Georgia', serif;
      font-weight: 700;
      font-size: 2.5rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 2rem;
      color: #ffffff;
      text-shadow: 0 0 15px rgba(232,233,240,0.8);
    }
    button.main {
      background: linear-gradient(135deg, rgba(160,196,255,0.1) 0%, rgba(189,178,255,0.1) 100%);
      border: 2px solid rgba(160,196,255,0.6);
      color: #e8e9f0;
      padding: 1rem 2.2rem;
      font-size: 1.1rem;
      font-family: 'Georgia', serif;
      font-weight: 600;
      letter-spacing: 0.05em;
      cursor: pointer;
      border-radius: 999px;
      transition: all 0.4s ease;
      margin-bottom: 1rem;
      box-shadow: 0 0 20px rgba(160,196,255,0.3), inset 0 0 20px rgba(160,196,255,0.1);
      position: relative;
      overflow: hidden;
    }
    
    button.main::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
      transform: rotate(45deg);
      transition: all 0.6s ease;
    }
    
    button.main:hover::before {
      left: 100%;
    }
    
    button.main:hover {
      border-color: #a0c4ff;
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 0 30px rgba(160,196,255,0.5), inset 0 0 30px rgba(160,196,255,0.2);
      background: linear-gradient(135deg, rgba(160,196,255,0.15) 0%, rgba(189,178,255,0.15) 100%);
    }
    
    button.main:active {
      transform: translateY(0) scale(0.98);
    }
    
    button.song, button.share {
      padding: 0.7rem 1.4rem;
      font-size: 0.9rem;
      border-radius: 999px;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 0.5rem 0.3rem;
      font-family: 'Courier New', monospace;
    }
    button.song {
      background: rgba(255,255,255,0.05);
      border: 1px solid #a0c4ff;
      color: #a0c4ff;
    }
    button.song:hover {
      background: rgba(160,196,255,0.15);
      box-shadow: 0 0 15px rgba(160,196,255,0.3);
    }
    button.share {
      background: rgba(255,255,255,0.05);
      border: 1px solid #ffc6ff;
      color: #ffc6ff;
    }
    button.share:hover {
      background: rgba(255,198,255,0.15);
      box-shadow: 0 0 15px rgba(255,198,255,0.3);
    }
    
    @keyframes etherealFadeIn {
      0% {
        opacity: 0;
        transform: translateY(30px) scale(0.95);
        filter: blur(10px);
      }
      60% {
        filter: blur(5px);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
        filter: blur(0);
      }
    }
    
    @keyframes mistGlow {
      0%, 100% {
        box-shadow: 0 0 20px rgba(160,196,255,0.2), 0 0 40px rgba(189,178,255,0.1);
      }
      50% {
        box-shadow: 0 0 30px rgba(160,196,255,0.3), 0 0 60px rgba(189,178,255,0.2);
      }
    }
    
    .card {
      margin-top: 2rem;
      padding: 2rem;
      border-radius: 16px;
      background: linear-gradient(135deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.02) 100%);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(160,196,255,0.4);
      opacity: 0;
      transform: translateY(30px) scale(0.95);
      filter: blur(10px);
      position: relative;
      overflow: hidden;
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(160,196,255,0.1) 0%, transparent 70%);
      animation: mistSwirl 8s ease-in-out infinite;
      pointer-events: none;
    }
    
    @keyframes mistSwirl {
      0%, 100% {
        transform: translate(0, 0) rotate(0deg);
        opacity: 0.3;
      }
      50% {
        transform: translate(10px, 10px) rotate(180deg);
        opacity: 0.6;
      }
    }
    
    .card.visible {
      animation: etherealFadeIn 1.2s ease-out forwards, mistGlow 3s ease-in-out infinite;
    }
    
    .task {
      font-size: 1.1rem;
      line-height: 1.7;
      white-space: pre-line;
      margin-bottom: 1rem;
      position: relative;
      z-index: 1;
    }
    
    .buttons-container {
      margin-top: 1.5rem;
      position: relative;
      z-index: 1;
    }
    
    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 0;
    }
  </style>
</head>
<body>
  <canvas id="stars"></canvas>
  <div class="container">
    <h1>Collier Cards</h1>
    <button class="main" id="drawBtn">Vylosovat kartu</button>
    <div id="card" class="card">
      <div id="task" class="task"></div>
      <div class="buttons-container" id="extra-buttons"></div>
    </div>
  </div>
  <script>
    var cards = [
      {text: "Zazp√≠vej jednu notu, kter√° vystihuje tvou aktu√°ln√≠ n√°ladu.", hasSong: false},
      {text: "Udƒõlej rytmus jen pomoc√≠ t≈ô√≠ ƒç√°st√≠ tƒõla.", hasSong: false},
      {text: "≈òekni sv√© jm√©no jako kdyby bylo melodie.", hasSong: false},
      {text: "Zkus si pobrukovat basovou linku k tichu.", hasSong: false},
      {text: "Vytvo≈ô 5vte≈ôinov√Ω \"soundtrack\" k tomu, co pr√°vƒõ vid√≠≈°.", hasSong: false},
      {text: "Jeden ƒçlovƒõk dr≈æ√≠ jednu notu, ostatn√≠ p≈ôid√°vaj√≠ dal≈°√≠.", hasSong: false},
      {text: "Najdƒõte akord jen pomoc√≠ hlas≈Ø.", hasSong: false},
      {text: "Jeden zaƒçne t√≥n, dal≈°√≠ ho mus√≠ \"zkr√°≈°nit\".", hasSong: false},
      {text: "Vytvo≈ôte smutn√Ω akord a promƒõ≈àte ho ve vesel√Ω.", hasSong: false},
      {text: "Zkuste zazp√≠vat \"ano\" tak, aby to znƒõlo jako l√°ska.", hasSong: false},
      {text: "Vymysli groove pro zvuk proj√≠≈ædƒõj√≠c√≠ho auta.", hasSong: false},
      {text: "Zatleskej rytmus sv√©ho jm√©na.", hasSong: false},
      {text: "Udƒõlej beat jen pomoc√≠ sykavek.", hasSong: false},
      {text: "Nƒõkdo dƒõl√° puls, nƒõkdo synkopy.", hasSong: false},
      {text: "Udƒõlej rytmus, kter√Ω by mohl bƒõ≈æet do nekoneƒçna.", hasSong: false},
      {text: "Zazp√≠vej barvu, kterou m√°≈° nejradƒõji.", hasSong: false},
      {text: "Jak zn√≠ pondƒõl√≠?", hasSong: false},
      {text: "Vymysli melodii pro \"tajemstv√≠\".", hasSong: false},
      {text: "Zazp√≠vej, jak by znƒõl d√©≈°≈• na Mƒõs√≠ci.", hasSong: false},
      {text: "Udƒõlej zvuk pro \"aha moment\".", hasSong: false},
      {text: "Zazp√≠vej jednu notu plnou vdƒõƒçnosti.", hasSong: false},
      {text: "Udƒõlej t≈ôi t√≥ny, kter√© vyjad≈ôuj√≠ napƒõt√≠.", hasSong: false},
      {text: "Vymysli zvuk √∫levy.", hasSong: false},
      {text: "Zazp√≠vej radost bez √∫smƒõvu - jen hlasem.", hasSong: false},
      {text: "P≈ôehraj kr√°tk√Ω \"vnit≈ôn√≠ dialog\".", hasSong: false},
      {text: "Vymysli 5vte≈ôinovou p√≠se≈à o ƒçek√°n√≠.", hasSong: false},
      {text: "Udƒõlej intro, kter√© slibuje dobrodru≈æstv√≠.", hasSong: false},
      {text: "Vytvo≈ô smyƒçku, kter√° by mohla b√Ωt v hitu.", hasSong: false},
      {text: "Zazp√≠vej konec p√≠snƒõ, kter√° neexistuje.", hasSong: false},
      {text: "Vymysli hymnu pro dne≈°n√≠ den.", hasSong: false},
      {text: "Zazp√≠vej jednu notu a posu≈à ji mikroton√°lnƒõ nahoru.", hasSong: true},
      {text: "Zazp√≠vej akord a pak ho \"rozpus≈•\".", hasSong: true},
      {text: "Udƒõlej hlasem modulaci do jin√© n√°lady.", hasSong: true},
      {text: "Vytvo≈ô t≈ôi vrstvy hlasu: bas, st≈ôed, v√Ω≈°ky.", hasSong: true},
      {text: "Zazp√≠vej jeden t√≥n tak, aby znƒõl jako cel√Ω svƒõt.", hasSong: true},
      {text: "Zazp√≠vej kousek zn√°m√© p√≠snƒõ o p≈Øl t√≥nu v√Ω≈°.", hasSong: true},
      {text: "Zazp√≠vej refr√©n o cel√Ω t√≥n n√≠≈æ.", hasSong: true},
      {text: "Zkus stejnou melodii ve \"≈°≈•astn√©/smutn√©\" t√≥ninƒõ.", hasSong: true},
      {text: "P≈ôesu≈à p√≠sniƒçku do \"temn√© filmov√© verze\".", hasSong: true},
      {text: "Zazp√≠vej ji, jako by byla v jazzov√©m klubu ve 3 r√°no.", hasSong: true},
      {text: "Zazp√≠vej zn√°mou p√≠se≈à, ale zmƒõ≈à prvn√≠ t√≥n.", hasSong: true},
      {text: "Ka≈æd√Ω dal≈°√≠ ver≈° posu≈à o p≈Ølt√≥n.", hasSong: true},
      {text: "Zazp√≠vej ji, jako by byla psan√° pro dƒõti.", hasSong: true},
      {text: "Zazp√≠vej ji, jako by to byl chor√°l.", hasSong: true},
      {text: "Zazp√≠vej ji jako lullaby (ukol√©bavku).", hasSong: true},
      {text: "Vezmi jednu notu z p√≠snƒõ a udƒõlej z n√≠ novou harmonii.", hasSong: true},
      {text: "Najdi akord, kter√Ω by tu p√≠se≈à \"rozbil\".", hasSong: true},
      {text: "Udƒõlej modulaci do √∫plnƒõ jin√© n√°lady.", hasSong: true},
      {text: "Zazp√≠vej jen basovou linku zn√°m√© p√≠snƒõ.", hasSong: true},
      {text: "Zazp√≠vej jen harmonii - bez hlavn√≠ melodie.", hasSong: true},
      {text: "Zazp√≠vej stejn√Ω √∫ryvek ve 3 r≈Øzn√Ωch t√≥nin√°ch.", hasSong: true},
      {text: "Udƒõlej z popov√© p√≠snƒõ filmovou hudbu.", hasSong: true},
      {text: "P≈ôehraj veselou p√≠se≈à jako poh≈ôebn√≠.", hasSong: true},
      {text: "P≈ôehraj smutnou p√≠se≈à jako triumf√°ln√≠.", hasSong: true},
      {text: "Zazp√≠vej p√≠se≈à, jako by pr√°vƒõ vy≈°lo slunce.", hasSong: true},
      {text: "Vezmi p√≠se≈à a posu≈à ji o \"nesmysln√Ω\" interval.", hasSong: true},
      {text: "Zazp√≠vej ji jako by byla z jin√©ho svƒõta.", hasSong: true},
      {text: "Zazp√≠vej jednu fr√°zi v lydick√© n√°ladƒõ.", hasSong: true},
      {text: "Udƒõlej z refr√©nu moduluj√≠c√≠ kolotoƒç.", hasSong: true},
      {text: "Zazp√≠vej konec p√≠snƒõ v √∫plnƒõ jin√© t√≥ninƒõ.", hasSong: true}
    ];

    var songs = [
      "Happy Birthday", "Let It Be", "Hallelujah", "Somewhere Over the Rainbow", "Twinkle Twinkle Little Star",
      "Yesterday", "Imagine", "Stand By Me", "Jingle Bells", "As It Was",
      "Love of My Life", "Golden", "Watermelon Sugar", "Pr≈°√≠ pr≈°√≠ jen se leje",
      "Ach synku synku", "Kalamajka mik mik mik", "Sk√°kal pes", "Koƒçka leze d√≠rou", "Chci zas v tobƒõ sp√°t",
      "Marie", "Tancovala ryba s rakom", "Norwegian Wood", "Staying Alive", "Light My Love",
      "Boyfriends", "Hurt", "Still Haven't Found What I'm Looking For", "It Ain't Over till It's Over", "Highway to Hell",
      "Knocking on Heaven's Door", "Heart of Gold", "The Chain", "Rocket Man", "Gypsy", "Ain't No Sunshine"
    ];

    var currentCardIndex = null;

    var urlParams = new URLSearchParams(window.location.search);
    if (urlParams.has('card')) {
      currentCardIndex = parseInt(urlParams.get('card'));
    }

    function showCard(index) {
      currentCardIndex = index;
      var card = document.getElementById('card');
      var task = document.getElementById('task');
      
      card.classList.remove('visible');
      
      setTimeout(function() {
        task.textContent = cards[index].text;
        
        var extraButtons = document.getElementById('extra-buttons');
        extraButtons.innerHTML = '';
        
        if (cards[index].hasSong) {
          var songBtn = document.createElement('button');
          songBtn.textContent = 'Vyber p√≠se≈à';
          songBtn.className = 'song';
          songBtn.addEventListener('click', drawSong);
          extraButtons.appendChild(songBtn);
        }
        
        var shareBtn = document.createElement('button');
        shareBtn.textContent = 'Sd√≠let √∫kol';
        shareBtn.className = 'share';
        shareBtn.addEventListener('click', shareCard);
        extraButtons.appendChild(shareBtn);
        
        setTimeout(function() {
          card.classList.add('visible');
        }, 10);
      }, 100);
    }

    function drawCard(index) {
      var randomIndex;
      if (index !== null && index !== undefined) {
        randomIndex = index;
      } else {
        randomIndex = Math.floor(Math.random() * cards.length);
      }
      showCard(randomIndex);
    }

    function drawSong() {
      var song = songs[Math.floor(Math.random() * songs.length)];
      var task = document.getElementById('task');
      task.textContent += '\n\nüéµ ' + song;
    }

    function shareCard() {
      var shareURL = window.location.origin + window.location.pathname + '?card=' + currentCardIndex;
      
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(shareURL).then(function() {
          alert('Odkaz zkop√≠rov√°n do schr√°nky!');
        }).catch(function() {
          prompt('Sd√≠lej tento odkaz:', shareURL);
        });
      } else {
        prompt('Sd√≠lej tento odkaz:', shareURL);
      }
    }

    document.getElementById('drawBtn').addEventListener('click', function() {
      drawCard();
    });

    window.addEventListener('DOMContentLoaded', function() {
      if (currentCardIndex !== null) {
        drawCard(currentCardIndex);
      }
    });

    var canvas = document.getElementById("stars");
    var ctx = canvas.getContext("2d");
    var w = canvas.width = window.innerWidth;
    var h = canvas.height = window.innerHeight;

    var stars = [];
    var numStars = 120;
    
    function random(min, max) {
      return Math.random() * (max - min) + min;
    }

    for (var i = 0; i < numStars; i++) {
      stars.push({
        x: random(0, w),
        y: random(0, h),
        radius: random(0.5, 2),
        dx: random(-0.05, 0.05),
        dy: random(-0.05, 0.05),
        alpha: random(0.3, 1),
        alphaDir: Math.random() < 0.5 ? -0.002 : 0.002,
        color: ['#e8e9f0', '#a0c4ff', '#bdb2ff', '#ffc6ff'][Math.floor(Math.random() * 4)]
      });
    }

    function animate() {
      ctx.clearRect(0, 0, w, h);
      
      for (var i = 0; i < stars.length; i++) {
        var s = stars[i];
        s.x += s.dx;
        s.y += s.dy;
        s.alpha += s.alphaDir;
        
        if (s.alpha <= 0.2 || s.alpha >= 1) s.alphaDir *= -1;
        if (s.x < 0) s.x = w;
        if (s.x > w) s.x = 0;
        if (s.y < 0) s.y = h;
        if (s.y > h) s.y = 0;
        
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.radius, 0, Math.PI * 2);
        ctx.fillStyle = s.color;
        ctx.globalAlpha = s.alpha;
        ctx.fill();
        ctx.globalAlpha = 1;
      }
      
      requestAnimationFrame(animate);
    }
    
    animate();

    window.addEventListener('resize', function() {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
    });
  </script>
</body>
</html>
